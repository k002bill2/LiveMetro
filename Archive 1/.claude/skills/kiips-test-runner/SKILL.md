---
skill: kiips-test-runner
name: KiiPS Test Runner
description: Automated test execution and validation for KiiPS microservices (JUnit, Jest, Karma)
version: 1.0.0
priority: critical
tags: [testing, quality-assurance, junit, jest, validation, boris-cherny-feedback-loop]
---

# KiiPS Test Runner

## Purpose

**Boris Cherny's Core Principle**: "ê°€ì¥ ì¤‘ìš”í•œ ìš”ì†ŒëŠ” Claudeì—ê²Œ ì‘ì—… ê²°ê³¼ë¥¼ ìŠ¤ìŠ¤ë¡œ ê²€ì¦í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤."

ì´ Skillì€ ì½”ë“œ ë³€ê²½ í›„ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ í’ˆì§ˆì„ 2-3ë°° í–¥ìƒì‹œí‚µë‹ˆë‹¤ (ë³´ë¦¬ìŠ¤ ì²˜ë‹ˆ ì–¸ê¸‰).

### ìë™ ì‹¤í–‰ ì¡°ê±´
- Java íŒŒì¼ (`.java`) ë³€ê²½ ê°ì§€ ì‹œ â†’ JUnit í…ŒìŠ¤íŠ¸ ìë™ ì‹¤í–‰
- JavaScript íŒŒì¼ (`.js`) ë³€ê²½ ê°ì§€ ì‹œ â†’ Jest/Karma í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (í–¥í›„)
- `stopEvent.js` Hookì„ í†µí•´ ì‘ì—… ì™„ë£Œ ì‹œ ìë™ íŠ¸ë¦¬ê±°

## Key Features

### 1. ìë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- **Java/JUnit**: Maven Surefireë¥¼ í†µí•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- **JavaScript/Jest**: Frontend í…ŒìŠ¤íŠ¸ (í–¥í›„ êµ¬í˜„)
- **JavaScript/Karma**: UI í†µí•© í…ŒìŠ¤íŠ¸ (í–¥í›„ êµ¬í˜„)

### 2. í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¶„ì„
- ì„±ê³µ/ì‹¤íŒ¨/ìŠ¤í‚µëœ í…ŒìŠ¤íŠ¸ ìˆ˜ ìë™ ì§‘ê³„
- ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œëª… ìƒì„¸ í‘œì‹œ
- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°„ ì¸¡ì •

### 3. í”¼ë“œë°± ë£¨í”„ í†µí•©
- í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ACE Framework Layer 6ì— ê¸°ë¡
- ì‹¤íŒ¨ ì‹œ ìƒì„¸ ë¡œê·¸ ë° ê°œì„  ì œì•ˆ ì œê³µ
- ì„±ê³µ ì‹œ ì²´í¬í¬ì¸íŠ¸ ìë™ ìƒì„±

## Usage

### Automatic Activation (via Hook)

ì´ Skillì€ `stopEvent.js` Hookì„ í†µí•´ **ìë™ìœ¼ë¡œ ì‹¤í–‰**ë©ë‹ˆë‹¤:

```javascript
// .claude/hooks/stopEvent.js
async function onStopEvent(context) {
  // ...
  // 1.5. ìë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
  if (editedFiles.length > 0) {
    testResults = await runAutoTests(editedFiles);
  }
  // ...
}
```

### Manual Invocation

í•„ìš” ì‹œ ìˆ˜ë™ìœ¼ë¡œë„ ì‹¤í–‰ ê°€ëŠ¥:

```bash
# íŠ¹ì • ëª¨ë“ˆ í…ŒìŠ¤íŠ¸
cd KiiPS-HUB
mvn test -pl :KiiPS-FD -DskipTests=false

# ì „ì²´ í”„ë¡œì íŠ¸ í…ŒìŠ¤íŠ¸
mvn clean test
```

## Test Execution Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ì½”ë“œ ë³€ê²½ ê°ì§€                     â”‚
â”‚    (Java, JavaScript íŒŒì¼)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ëª¨ë“ˆ ì¶”ì¶œ              â”‚
â”‚    - KiiPS-FD, KiiPS-IL ë“±           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (Maven/Jest/Karma)    â”‚
â”‚    - JUnit for Java                  â”‚
â”‚    - Jest for Frontend JS            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. ê²°ê³¼ íŒŒì‹± ë° ë¶„ì„                  â”‚
â”‚    - ì„±ê³µ/ì‹¤íŒ¨/ìŠ¤í‚µ ì§‘ê³„              â”‚
â”‚    - ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸ ìƒì„¸ ì •ë³´            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. í”¼ë“œë°± ì œê³µ                        â”‚
â”‚    âœ… All passed â†’ Checkpoint         â”‚
â”‚    âŒ Failed â†’ Detailed log + Tips   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Examples

### Example 1: Java íŒŒì¼ ìˆ˜ì • í›„ ìë™ í…ŒìŠ¤íŠ¸

**ìƒí™©**: `KiiPS-FD/src/.../FundService.java` íŒŒì¼ ìˆ˜ì •

**ìë™ ì‹¤í–‰**:
```
ğŸ§ª AUTO TEST EXECUTION (Boris Cherny Feedback Loop)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“¦ Detected Java changes in: KiiPS-FD
ğŸ”„ Running JUnit tests...

Testing KiiPS-FD...
  âœ… KiiPS-FD: 23/24 passed

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š TEST SUMMARY
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Total: 24 | Passed: 23 | Failed: 1 | Skipped: 0
Duration: 12.45s
âŒ 1 test(s) failed - Review and fix before deployment
ğŸ’¡ Tip: Run tests locally with: cd KiiPS-HUB && mvn test -pl :<module>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### Example 2: ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼

**ìë™ ì‹¤í–‰**:
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š TEST SUMMARY
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Total: 156 | Passed: 156 | Failed: 0 | Skipped: 2
Duration: 45.12s
âœ… All tests passed!
ğŸ’¡ Quality improvement achieved (Boris Cherny: 2-3x better results)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

## Configuration

### KiiPS í”„ë¡œì íŠ¸ ê¸°ë³¸ ì„¤ì •

```xml
<!-- KiiPS-HUB/pom.xml -->
<properties>
  <skipTests>true</skipTests> <!-- ê¸°ë³¸ì ìœ¼ë¡œ ë¹„í™œì„±í™” -->
</properties>
```

**ìë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œ**:
- Hookì—ì„œ `-DskipTests=false` í”Œë˜ê·¸ë¡œ ê°•ì œ í™œì„±í™”
- ë³€ê²½ëœ ëª¨ë“ˆë§Œ ì„ íƒì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ (ì„±ëŠ¥ ìµœì í™”)

### Timeout ì„¤ì •

```javascript
// stopEvent.js
execSync(`cd KiiPS-HUB && mvn test -pl :${moduleName} -DskipTests=false`, {
  timeout: 120000 // 2ë¶„ íƒ€ì„ì•„ì›ƒ
});
```

## Test Coverage Goals

ë³´ë¦¬ìŠ¤ ì²˜ë‹ˆê°€ ê°•ì¡°í•œ **ê²€ì¦ í”¼ë“œë°± ë£¨í”„** í’ˆì§ˆ ê¸°ì¤€:

| í•­ëª© | ëª©í‘œ | í˜„ì¬ |
|------|------|------|
| ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ | â‰¥ 80% | ì¸¡ì • í•„ìš” |
| í†µí•© í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ | â‰¥ 70% | ì¸¡ì • í•„ìš” |
| ìë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ìœ¨ | 100% | âœ… 100% (Java) |
| í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ë°°í¬ ì°¨ë‹¨ | Yes | âš ï¸ ê²½ê³ ë§Œ (í–¥í›„ ì°¨ë‹¨) |

## Integration with ACE Framework

### Layer 6 (Task Prosecution) í†µí•©

```javascript
// stopEvent.js
async function onStopEvent(context) {
  // Layer 6: ì‹¤ì œ ì‘ì—… ìˆ˜í–‰ í›„ ìê°€ ê²€ì¦
  testResults = await runAutoTests(editedFiles);

  // í”¼ë“œë°± ë£¨í”„ì— ê²°ê³¼ ê¸°ë¡
  await recordExecutionFeedback({
    testResults // í…ŒìŠ¤íŠ¸ ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€ í¬í•¨
  });
}
```

### Feedback Loop í•™ìŠµ

```javascript
// ì‹¤íŒ¨ ì‹œ í•™ìŠµ ì´ë²¤íŠ¸ ê¸°ë¡
if (!testResults.javaTests.success) {
  feedbackLoop.recordLearningEvent({
    eventType: 'test_failure',
    suggestion: 'Review test failures before proceeding'
  });
}
```

## Boris Cherny's Principles Applied

### ì›ì¹™ 1: ê²€ì¦ í”¼ë“œë°± ë£¨í”„
> "ê²¬ê³ í•œ ê²€ì¦ ë£¨í”„ë¥¼ êµ¬ì¶•í•˜ë©´ ìµœì¢… ê²°ê³¼ë¬¼ì˜ í’ˆì§ˆì´ 2-3ë°° í–¥ìƒë©ë‹ˆë‹¤."

**ì ìš©**:
- âœ… ì½”ë“œ ë³€ê²½ ì‹œ ìë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- âœ… í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìƒì„¸ ë¦¬í¬íŒ…
- âœ… ì‹¤íŒ¨ ì‹œ ì¦‰ì‹œ í”¼ë“œë°±

### ì›ì¹™ 2: ê²°ì •ë¡ ì  ê²€ì¦
> "ë°±ê·¸ë¼ìš´ë“œ ì—ì´ì „íŠ¸ë‚˜ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•´ ì‘ì—…ì„ ê²°ì •ë¡ ì ìœ¼ë¡œ ê²€ì¦í•©ë‹ˆë‹¤."

**ì ìš©**:
- âœ… ë™ì¼í•œ ì½”ë“œ ë³€ê²½ â†’ ë™ì¼í•œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- âœ… JUnit/Maven í‘œì¤€ í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆ ì‚¬ìš©
- âœ… ì˜ˆì¸¡ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ê²°ê³¼

## Troubleshooting

### ë¬¸ì œ: í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ

**ì›ì¸**: `skipTests=true` ê¸°ë³¸ ì„¤ì •

**í•´ê²°**:
```bash
# ê°•ì œ ì‹¤í–‰
mvn test -pl :KiiPS-FD -DskipTests=false
```

### ë¬¸ì œ: íƒ€ì„ì•„ì›ƒ ì—ëŸ¬

**ì›ì¸**: í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°„ > 2ë¶„

**í•´ê²°**:
```javascript
// stopEvent.jsì—ì„œ íƒ€ì„ì•„ì›ƒ ì¦ê°€
timeout: 300000 // 5ë¶„ìœ¼ë¡œ ì¦ê°€
```

### ë¬¸ì œ: í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ë°°í¬ ì°¨ë‹¨ ì•ˆ ë¨

**í˜„ì¬**: ê²½ê³ ë§Œ í‘œì‹œ
**í–¥í›„**: CI/CD íŒŒì´í”„ë¼ì¸ í†µí•©ìœ¼ë¡œ ë°°í¬ ì°¨ë‹¨

## Related Skills

- **kiips-maven-builder** - ë¹Œë“œ ì „ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- **kiips-service-deployer** - ë°°í¬ ì „ í…ŒìŠ¤íŠ¸ ê²€ì¦
- **checklist-generator** - í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„±
- **kiips-feature-planner** - ê¸°ëŠ¥ ê°œë°œ ì‹œ í…ŒìŠ¤íŠ¸ ê³„íš

## Future Enhancements

### Phase 1 (í˜„ì¬ êµ¬í˜„)
- âœ… Java/JUnit ìë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- âœ… í…ŒìŠ¤íŠ¸ ê²°ê³¼ íŒŒì‹± ë° ë¦¬í¬íŒ…
- âœ… stopEvent Hook í†µí•©

### Phase 2 (ê³„íš)
- â³ JavaScript/Jest í…ŒìŠ¤íŠ¸ ì§€ì›
- â³ Karma UI í†µí•© í…ŒìŠ¤íŠ¸
- â³ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ì¸¡ì • (JaCoCo)

### Phase 3 (ê³„íš)
- â³ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ìë™ ì¬ì‹œë„ (3íšŒ)
- â³ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í†µí•© (JMeter)
- â³ ë°°í¬ ì „ ìë™ íšŒê·€ í…ŒìŠ¤íŠ¸

## References

- **Boris Cherny's Workflow #10**: "ê°€ì¥ ì¤‘ìš”í•œ íŒì€ Claudeì—ê²Œ ê²€ì¦ í”¼ë“œë°± ë£¨í”„ ì œê³µ"
- **ACE Framework Layer 6**: Task Prosecution - ìê°€ ê²€ì¦ ë° í”¼ë“œë°±
- **Maven Surefire Plugin**: https://maven.apache.org/surefire/maven-surefire-plugin/
- **JUnit 5**: https://junit.org/junit5/

---

**Last Updated**: 2026-01-05
**Author**: KiiPS Development Team (inspired by Boris Cherny's principles)
**Status**: âœ… Production Ready (Java/JUnit)
