{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "version": "3.0.1-KiiPS",
  "lastUpdated": "2026-01-04",
  "description": "Task type classification and agent capability matching for optimal task assignment",

  "taskTypes": {
    "ui_component_creation": {
      "description": "JSP 컴포넌트, RealGrid, ApexCharts 생성",
      "primaryAgent": "kiips-ui-designer",
      "requiredSkill": "kiips-ui-component-builder",
      "minCapabilityMatch": 0.9,
      "fallbackAgent": "kiips-developer",
      "keywords": [
        "UI 컴포넌트",
        "JSP 생성",
        "그리드 생성",
        "차트 추가",
        "페이지 생성",
        "화면 개발",
        "컴포넌트 템플릿"
      ],
      "filePatterns": [
        "**/*.jsp",
        "**/webapp/**/*.html"
      ],
      "estimatedComplexity": "medium",
      "estimatedDuration": "15-30min"
    },

    "jsp_template_development": {
      "description": "JSP 템플릿 개발 (JSTL/EL, XSS 방어)",
      "primaryAgent": "kiips-ui-designer",
      "requiredSkill": "kiips-ui-component-builder",
      "minCapabilityMatch": 0.95,
      "fallbackAgent": "kiips-developer",
      "keywords": [
        "JSP",
        "템플릿",
        "JSTL",
        "EL",
        "뷰",
        "화면",
        "페이지"
      ],
      "filePatterns": [
        "**/*.jsp"
      ],
      "estimatedComplexity": "medium",
      "estimatedDuration": "20-40min"
    },

    "realgrid_configuration": {
      "description": "RealGrid 2.6.3 설정 및 최적화",
      "primaryAgent": "kiips-ui-designer",
      "requiredSkill": "kiips-realgrid-builder",
      "minCapabilityMatch": 0.92,
      "fallbackAgent": "kiips-developer",
      "keywords": [
        "RealGrid",
        "그리드 설정",
        "그리드 편집",
        "셀 에디터",
        "엑셀 내보내기",
        "그리드 필터",
        "데이터 그리드"
      ],
      "filePatterns": [
        "**/*grid*.js",
        "**/*Grid*.js"
      ],
      "contentPatterns": [
        "RealGridJS",
        "GridView",
        "DataProvider"
      ],
      "estimatedComplexity": "high",
      "estimatedDuration": "30-60min"
    },

    "apexcharts_visualization": {
      "description": "ApexCharts 데이터 시각화",
      "primaryAgent": "kiips-ui-designer",
      "requiredSkill": "kiips-ui-component-builder",
      "minCapabilityMatch": 0.9,
      "fallbackAgent": "kiips-developer",
      "keywords": [
        "차트",
        "ApexCharts",
        "시각화",
        "그래프",
        "도넛 차트",
        "선 차트",
        "바 차트",
        "대시보드"
      ],
      "filePatterns": [
        "**/*chart*.js",
        "**/*Chart*.js"
      ],
      "contentPatterns": [
        "ApexCharts",
        "new ApexCharts"
      ],
      "estimatedComplexity": "medium",
      "estimatedDuration": "15-30min"
    },

    "responsive_design": {
      "description": "반응형 레이아웃 및 Bootstrap 설정",
      "primaryAgent": "kiips-ui-designer",
      "requiredSkill": "kiips-responsive-validator",
      "minCapabilityMatch": 0.9,
      "fallbackAgent": "kiips-developer",
      "keywords": [
        "반응형",
        "모바일",
        "브레이크포인트",
        "Bootstrap",
        "그리드 레이아웃",
        "미디어 쿼리"
      ],
      "filePatterns": [
        "**/*.scss",
        "**/*.css"
      ],
      "estimatedComplexity": "medium",
      "estimatedDuration": "20-40min"
    },

    "accessibility_validation": {
      "description": "웹 접근성 (WCAG 2.1 AA) 검증 및 개선",
      "primaryAgent": "kiips-ui-designer",
      "requiredSkill": "kiips-a11y-checker",
      "minCapabilityMatch": 0.85,
      "fallbackAgent": "checklist-generator",
      "keywords": [
        "접근성",
        "WCAG",
        "ARIA",
        "스크린 리더",
        "키보드 네비게이션",
        "색상 대비",
        "웹 표준"
      ],
      "filePatterns": [
        "**/*.jsp",
        "**/*.html"
      ],
      "estimatedComplexity": "medium",
      "estimatedDuration": "25-45min"
    },

    "scss_theme_development": {
      "description": "SCSS 테마 시스템 및 스타일 관리",
      "primaryAgent": "kiips-ui-designer",
      "requiredSkill": "kiips-scss-theme-manager",
      "minCapabilityMatch": 0.85,
      "fallbackAgent": "kiips-developer",
      "keywords": [
        "SCSS",
        "스타일",
        "테마",
        "디자인 토큰",
        "CSS 변수",
        "믹스인",
        "스타일 가이드"
      ],
      "filePatterns": [
        "**/*.scss",
        "**/_*.scss"
      ],
      "estimatedComplexity": "low-medium",
      "estimatedDuration": "10-20min"
    },

    "maven_build": {
      "description": "Maven Multi-Module 빌드",
      "primaryAgent": "kiips-developer",
      "requiredSkill": "kiips-maven-builder",
      "minCapabilityMatch": 0.8,
      "fallbackAgent": "primary-coordinator",
      "keywords": [
        "빌드",
        "Maven",
        "컴파일",
        "package",
        "clean install"
      ],
      "filePatterns": [
        "**/pom.xml"
      ],
      "estimatedComplexity": "low",
      "estimatedDuration": "5-15min"
    },

    "api_testing": {
      "description": "API Gateway 테스트 및 검증",
      "primaryAgent": "kiips-developer",
      "requiredSkill": "kiips-api-tester",
      "minCapabilityMatch": 0.75,
      "fallbackAgent": "primary-coordinator",
      "keywords": [
        "API 테스트",
        "엔드포인트",
        "REST API",
        "API 호출"
      ],
      "estimatedComplexity": "low",
      "estimatedDuration": "10-20min"
    },

    "log_analysis": {
      "description": "로그 분석 및 디버깅",
      "primaryAgent": "kiips-developer",
      "requiredSkill": "kiips-log-analyzer",
      "minCapabilityMatch": 0.7,
      "fallbackAgent": "kiips-architect",
      "keywords": [
        "로그",
        "에러",
        "디버깅",
        "로그 확인"
      ],
      "filePatterns": [
        "**/logs/**/*.log"
      ],
      "estimatedComplexity": "medium",
      "estimatedDuration": "15-30min"
    },

    "architecture_review": {
      "description": "시스템 아키텍처 검토 및 설계",
      "primaryAgent": "kiips-architect",
      "requiredSkill": null,
      "minCapabilityMatch": 0.85,
      "fallbackAgent": "primary-coordinator",
      "keywords": [
        "아키텍처",
        "설계",
        "구조",
        "시스템 디자인"
      ],
      "estimatedComplexity": "high",
      "estimatedDuration": "45-90min"
    },

    "quality_validation": {
      "description": "코드 품질 검증 및 체크리스트",
      "primaryAgent": "checklist-generator",
      "requiredSkill": null,
      "minCapabilityMatch": 0.8,
      "fallbackAgent": "primary-coordinator",
      "keywords": [
        "체크리스트",
        "검증",
        "코드 리뷰",
        "품질"
      ],
      "estimatedComplexity": "low",
      "estimatedDuration": "5-10min"
    }
  },

  "escalationRules": {
    "capabilityMismatch": {
      "condition": "capability_match < min_capability_match",
      "action": "escalate_to_fallback_agent",
      "notification": "warn_primary_coordinator",
      "retryPolicy": "none"
    },

    "resourceUnavailable": {
      "condition": "required_lock_unavailable",
      "action": "queue_task",
      "maxWaitTime": 300000,
      "notification": "notify_primary_coordinator",
      "retryPolicy": "exponential_backoff"
    },

    "agentOverloaded": {
      "condition": "agent_concurrent_tasks >= max_concurrent_operations",
      "action": "delegate_to_fallback_or_queue",
      "notification": "warn_primary_coordinator",
      "retryPolicy": "linear_backoff"
    },

    "ethicalConcern": {
      "condition": "ethical_validation_failed",
      "action": "escalate_to_primary_coordinator",
      "notification": "alert_user",
      "retryPolicy": "manual_approval_required"
    },

    "skillNotAvailable": {
      "condition": "required_skill_not_found",
      "action": "use_general_capability_without_skill",
      "notification": "warn_primary_coordinator",
      "retryPolicy": "attempt_with_lower_confidence"
    },

    "taskTimeout": {
      "condition": "execution_time > max_execution_time",
      "action": "cancel_and_escalate_to_primary",
      "notification": "alert_user",
      "retryPolicy": "manual_intervention_required"
    },

    "conflictDetected": {
      "condition": "multiple_agents_claim_same_resource",
      "action": "escalate_to_primary_coordinator",
      "notification": "alert_all_involved_agents",
      "retryPolicy": "wait_for_primary_resolution"
    }
  },

  "priorityMatrix": {
    "description": "Task priority calculation based on multiple factors",
    "factors": {
      "userExplicitRequest": {
        "weight": 0.4,
        "description": "사용자가 명시적으로 요청한 작업"
      },
      "criticalPath": {
        "weight": 0.3,
        "description": "전체 워크플로우의 필수 경로"
      },
      "dependencyBlocker": {
        "weight": 0.2,
        "description": "다른 작업을 차단하는 의존성"
      },
      "estimatedDuration": {
        "weight": 0.1,
        "description": "짧은 작업 우선 (Quick wins)"
      }
    },
    "priorityLevels": [
      {
        "level": "critical",
        "score": ">= 0.8",
        "maxQueueTime": 0,
        "description": "즉시 처리"
      },
      {
        "level": "high",
        "score": "0.6 - 0.79",
        "maxQueueTime": 60000,
        "description": "1분 이내 처리"
      },
      {
        "level": "normal",
        "score": "0.4 - 0.59",
        "maxQueueTime": 300000,
        "description": "5분 이내 처리"
      },
      {
        "level": "low",
        "score": "< 0.4",
        "maxQueueTime": 600000,
        "description": "10분 이내 처리"
      }
    ]
  },

  "learningProtocol": {
    "description": "Capability matching accuracy improvement over time",
    "enabled": true,
    "feedbackCollection": {
      "collectAfterEachTask": true,
      "metrics": [
        "actual_capability_match_vs_estimated",
        "task_completion_success_rate",
        "user_satisfaction_implicit",
        "escalation_frequency"
      ]
    },
    "modelUpdate": {
      "frequency": "after_each_execution",
      "minSampleSize": 3,
      "validationRequired": true,
      "updateScope": [
        "capability_scores",
        "task_type_keywords",
        "escalation_thresholds"
      ]
    }
  },

  "specialCases": {
    "hybrid_tasks": {
      "description": "UI와 Backend가 동시에 필요한 작업",
      "detection": "keywords_from_multiple_domains",
      "strategy": "coordinate_multiple_agents",
      "primaryCoordinator": "primary-coordinator",
      "examples": [
        {
          "scenario": "펀드 목록 조회 페이지 (UI + API)",
          "agents": ["kiips-ui-designer", "kiips-developer"],
          "coordination": "sequential",
          "order": ["kiips-developer (API)", "kiips-ui-designer (UI)"]
        },
        {
          "scenario": "대시보드 (차트 + 데이터)",
          "agents": ["kiips-ui-designer", "kiips-developer"],
          "coordination": "parallel_with_integration",
          "integrationPoint": "API 스펙 정의"
        }
      ]
    },

    "architecture_changes": {
      "description": "아키텍처 변경이 필요한 UI 작업",
      "detection": "new_library_or_design_system_change",
      "strategy": "consult_architect_first",
      "workflow": [
        "kiips-architect (설계 검토)",
        "primary-coordinator (승인)",
        "kiips-ui-designer (구현)"
      ]
    }
  }
}
