{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "version": "3.0.1-KiiPS",
  "lastUpdated": "2026-01-08",
  "status": "active",

  "project": {
    "name": "KiiPS",
    "fullName": "Korea Investment Information Processing System",
    "type": "microservices",
    "techStack": {
      "backend": "Spring Boot 2.4.2",
      "java": "8",
      "build": "Maven Multi-Module",
      "frontend": "JSP, jQuery, Bootstrap"
    }
  },

  "aceFramework": {
    "description": "Autonomous Cognitive Entity Framework for Parallel Agent Coordination",
    "layers": {
      "layer1_aspirational": {
        "name": "Aspirational Layer",
        "purpose": "Define ethical principles and universal constraints",
        "scope": "All agents, all operations",
        "configFile": "layer1-aspirational.md",
        "enforcement": "mandatory"
      },
      "layer2_global_strategy": {
        "name": "Global Strategy Layer",
        "purpose": "Maintain overall mission and long-term goals",
        "scope": "Primary Agent (with user input)",
        "enforcement": "required"
      },
      "layer3_agent_model": {
        "name": "Agent Model Layer",
        "purpose": "Self-awareness of capabilities and limitations",
        "scope": "All agents (individual self-assessment)",
        "configFile": "layer3-agent-model.json",
        "enforcement": "required"
      },
      "layer4_executive_function": {
        "name": "Executive Function Layer",
        "purpose": "Task decomposition and resource allocation",
        "scope": "Primary Agent (coordination)",
        "configFile": "layer4-executive.md",
        "enforcement": "required"
      },
      "layer45_domain_orchestration": {
        "name": "Domain Orchestration Layer",
        "purpose": "Domain-specific workflow coordination by Manager Agents",
        "scope": "Manager Agents (intermediate orchestration)",
        "configFile": "layer45-orchestration.md",
        "enforcement": "required"
      },
      "layer5_cognitive_control": {
        "name": "Cognitive Control Layer",
        "purpose": "Task selection and conflict prevention",
        "scope": "All agents (local execution control)",
        "enforcement": "required"
      },
      "layer6_task_prosecution": {
        "name": "Task Prosecution Layer",
        "purpose": "Actual execution with tools and skills",
        "scope": "All agents (parallel operation)",
        "skillRulesFile": "../../skill-rules.json",
        "enforcement": "required"
      },
      "feedback_loops": {
        "name": "Feedback Loops",
        "purpose": "Continuous learning and protocol evolution",
        "scope": "All layers (bidirectional feedback)",
        "telemetryPath": "./telemetry/",
        "enforcement": "recommended"
      }
    }
  },

  "agentHierarchy": {
    "primary": {
      "id": "primary-coordinator",
      "name": "Primary Coordinator",
      "model": "opus-4.5",
      "role": "coordinator",
      "responsibilities": [
        "Task decomposition and work distribution",
        "Resource allocation and lock management",
        "Conflict resolution and integration",
        "Quality assurance and final validation",
        "User communication",
        "Strategic adaptation when plan deviates"
      ],
      "exclusivePermissions": [
        "Modify shared files (KiiPS-HUB, KiiPS-COMMON, KiiPS-UTILS)",
        "Merge conflicting changes",
        "Approve Secondary Agent proposals",
        "Execute final deliverables",
        "Present files to user",
        "Reallocate tasks dynamically"
      ],
      "configFile": "../agents/primary-coordinator.md"
    },
    "secondary": [
      {
        "id": "kiips-architect",
        "name": "KiiPS Architect",
        "model": "sonnet-4.5",
        "role": "strategic-advisor",
        "specialization": "System design, architecture guidance",
        "configFile": "../agents/kiips-architect.md"
      },
      {
        "id": "kiips-developer",
        "name": "KiiPS Developer",
        "model": "sonnet-4.5",
        "role": "executor",
        "specialization": "Feature implementation, debugging, code improvements",
        "configFile": "../agents/kiips-developer.md"
      },
      {
        "id": "checklist-generator",
        "name": "Checklist Generator",
        "model": "haiku-4.5",
        "role": "validator",
        "specialization": "Code review, deployment, testing checklists",
        "configFile": "../agents/checklist-generator.md"
      },
      {
        "id": "kiips-ui-designer",
        "name": "KiiPS UI/UX Designer",
        "model": "sonnet-4.5",
        "role": "ui-ux-specialist",
        "specialization": "JSP templates, RealGrid 2.8.8, ApexCharts, responsive design, accessibility",
        "configFile": "../agents/kiips-ui-designer.md"
      }
    ],
    "managers": [
      {
        "id": "build-manager",
        "name": "Build Manager",
        "model": "sonnet-4.5",
        "role": "build-orchestrator",
        "layer": "layer45_domain_orchestration",
        "domain": "Maven builds, multi-service builds, dependency resolution",
        "managesSkills": ["kiips-maven-builder"],
        "delegatesTo": ["kiips-developer"],
        "configFile": "../agents/managers/build-manager.md"
      },
      {
        "id": "feature-manager",
        "name": "Feature Manager",
        "model": "sonnet-4.5",
        "role": "feature-orchestrator",
        "layer": "layer45_domain_orchestration",
        "domain": "Feature development lifecycle, architect-developer-QA coordination",
        "managesSkills": ["kiips-feature-planner", "checklist-generator"],
        "delegatesTo": ["kiips-architect", "kiips-developer", "kiips-ui-designer", "checklist-generator"],
        "configFile": "../agents/managers/feature-manager.md"
      },
      {
        "id": "ui-manager",
        "name": "UI Manager",
        "model": "sonnet-4.5",
        "role": "ui-orchestrator",
        "layer": "layer45_domain_orchestration",
        "domain": "UI/UX workflows, validation pipelines",
        "managesSkills": ["kiips-ui-component-builder", "kiips-realgrid-builder", "kiips-responsive-validator", "kiips-a11y-checker", "kiips-scss-theme-manager"],
        "delegatesTo": ["kiips-ui-designer", "kiips-developer", "checklist-generator"],
        "configFile": "../agents/managers/ui-manager.md"
      },
      {
        "id": "deployment-manager",
        "name": "Deployment Manager",
        "model": "sonnet-4.5",
        "role": "deployment-orchestrator",
        "layer": "layer45_domain_orchestration",
        "domain": "Service deployment, health checks, rollback",
        "managesSkills": ["kiips-service-deployer", "kiips-api-tester", "kiips-log-analyzer"],
        "delegatesTo": ["kiips-developer", "checklist-generator"],
        "configFile": "../agents/managers/deployment-manager.md"
      }
    ]
  },

  "resourceManagement": {
    "lockingStrategy": "service-module",
    "lockFile": "./locks.json",
    "lockTimeout": 30000,
    "deadlockDetection": true,

    "lockableModules": [
      {
        "name": "KiiPS-HUB",
        "path": "KiiPS-HUB/",
        "type": "parent-pom",
        "primaryOnly": true
      },
      {
        "name": "KiiPS-COMMON",
        "path": "KiiPS-COMMON/",
        "type": "shared-services",
        "primaryOnly": true
      },
      {
        "name": "KiiPS-UTILS",
        "path": "KiiPS-UTILS/",
        "type": "shared-daos",
        "primaryOnly": true
      },
      {
        "name": "KiiPS-APIGateway",
        "path": "KiiPS-APIGateway/",
        "type": "gateway",
        "primaryOnly": true
      },
      {
        "name": "KiiPS-Login",
        "path": "KiiPS-Login/",
        "type": "authentication",
        "primaryOnly": true
      },
      {
        "name": "KiiPS-UI",
        "path": "KiiPS-UI/",
        "type": "web-interface",
        "primaryOnly": true,
        "allowedSecondaryAgents": [
          {
            "agentId": "kiips-ui-designer",
            "permissions": "ui-files-only",
            "allowedPatterns": [
              "**/*.jsp",
              "**/*.scss",
              "**/*.css",
              "**/static/**/*.js",
              "**/resources/static/**/*"
            ],
            "deniedPatterns": [
              "**/*.java",
              "**/pom.xml",
              "**/application*.properties"
            ]
          }
        ]
      },
      {
        "name": "KiiPS-FD",
        "path": "KiiPS-FD/",
        "type": "business-service",
        "primaryOnly": false
      },
      {
        "name": "KiiPS-IL",
        "path": "KiiPS-IL/",
        "type": "business-service",
        "primaryOnly": false
      },
      {
        "name": "KiiPS-PG",
        "path": "KiiPS-PG/",
        "type": "business-service",
        "primaryOnly": false
      },
      {
        "name": "KiiPS-AC",
        "path": "KiiPS-AC/",
        "type": "business-service",
        "primaryOnly": false
      },
      {
        "name": "KiiPS-SY",
        "path": "KiiPS-SY/",
        "type": "business-service",
        "primaryOnly": false
      },
      {
        "name": "KiiPS-LP",
        "path": "KiiPS-LP/",
        "type": "business-service",
        "primaryOnly": false
      },
      {
        "name": "KiiPS-EL",
        "path": "KiiPS-EL/",
        "type": "business-service",
        "primaryOnly": false
      },
      {
        "name": "KiiPS-RT",
        "path": "KiiPS-RT/",
        "type": "business-service",
        "primaryOnly": false
      },
      {
        "name": "KiiPS-BATCH",
        "path": "KiiPS-BATCH/",
        "type": "batch-service",
        "primaryOnly": false
      },
      {
        "name": "KiiPS-MOBILE",
        "path": "KiiPS-MOBILE/",
        "type": "mobile-service",
        "primaryOnly": false
      },
      {
        "name": "KiiPS-KSD",
        "path": "KiiPS-KSD/",
        "type": "external-integration",
        "primaryOnly": false
      },
      {
        "name": "KiiPS-AI",
        "path": "KiiPS-AI/",
        "type": "ai-service",
        "primaryOnly": false
      }
    ],

    "agentWorkspaces": {
      "basePath": "agent_workspaces/",
      "workspaces": {
        "primary": "agent_workspaces/primary/",
        "secondary_a": "agent_workspaces/secondary_a/",
        "secondary_b": "agent_workspaces/secondary_b/",
        "secondary_c": "agent_workspaces/secondary_c/"
      },
      "integration": "agent_workspaces/integration/"
    }
  },

  "checkpoints": {
    "enabled": true,
    "storagePath": "./checkpoints/",
    "maxCheckpoints": 10,
    "autoCheckpoint": {
      "enabled": true,
      "triggers": [
        "before_critical_operation",
        "after_successful_build",
        "before_deployment",
        "after_merge_operation"
      ]
    },
    "rollbackPolicy": {
      "autoRollbackOnError": false,
      "requireUserApproval": true
    }
  },

  "telemetry": {
    "enabled": true,
    "storagePath": "./telemetry/",
    "retentionDays": 30,
    "metrics": [
      "layer1_ethical_compliance",
      "layer2_goal_achievement",
      "layer3_self_assessment_accuracy",
      "layer4_coordination_efficiency",
      "layer5_conflict_rate",
      "layer6_tool_success_rate",
      "overall_execution_time",
      "parallel_efficiency"
    ]
  },

  "communication": {
    "statusReportingInterval": 30000,
    "emergencyBroadcast": true,
    "messageTypes": [
      "task_assignment",
      "self_assessment_response",
      "progress_update",
      "approval_request",
      "ethical_concern",
      "conflict_notification",
      "completion_report",
      "learning_share"
    ]
  },

  "hooks": {
    "ethicalValidator": ".claude/hooks/ethicalValidator.js",
    "parallelCoordinator": ".claude/hooks/parallelCoordinator.js",
    "userPromptSubmit": ".claude/hooks/userPromptSubmit.js",
    "stopEvent": ".claude/hooks/stopEvent.js"
  },

  "coordinationScripts": {
    "fileLockManager": ".claude/coordination/file-lock-manager.js",
    "checkpointManager": ".claude/coordination/checkpoint-manager.js",
    "taskAllocator": ".claude/coordination/task-allocator.js",
    "feedbackLoop": ".claude/coordination/feedback-loop.js",
    "managerCoordinator": ".claude/coordination/manager-coordinator.js"
  },

  "featureFlags": {
    "enableManagerAgents": true,
    "managerRoutingMode": "domain-first"
  },

  "tokenBudget": {
    "primaryCoordinator": 30,
    "buildManager": 10,
    "featureManager": 12,
    "uiManager": 10,
    "deploymentManager": 8,
    "workerAgents": 30
  },

  "serviceConfiguration": {
    "description": "KiiPS Service Port Configuration (synchronized with app-local.properties)",
    "ports": {
      "apiGateway": 8088,
      "login": 8801,
      "ui": 8100,
      "common": 8701,
      "fd": 8601,
      "il": 8401,
      "pg": 8501,
      "sy": 8301,
      "ac": 8901,
      "el": 8201,
      "lp": 8101,
      "rt": 8001,
      "mes": 8200,
      "mobile": 8002,
      "batch": 9432,
      "ksd": 9993
    },
    "apiPrefixes": {
      "fd": "/FDAPI/",
      "il": "/ILAPI/",
      "pg": "/PGAPI/",
      "common": "/COMMONAPI/",
      "sy": "/SYAPI/",
      "ac": "/ACAPI/",
      "el": "/ELAPI/",
      "lp": "/LPAPI/",
      "rt": "/RTAPI/",
      "mes": "/MESAPI/"
    }
  }
}
