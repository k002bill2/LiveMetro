{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "version": "3.0.1-KiiPS",
  "lastUpdated": "2026-01-08",
  "description": "Agent Model Layer - Self-awareness of capabilities and limitations",

  "agents": {
    "primary-coordinator": {
      "agent_id": "primary-coordinator",
      "name": "Primary Coordinator",
      "model": "opus-4.5",
      "role": "coordinator",
      "hierarchy": "primary",

      "capabilities": {
        "strengths": [
          "전체 작업 조정 및 분배",
          "윤리적 검증 및 의사결정",
          "복잡한 다단계 작업 분해",
          "충돌 해결 및 통합",
          "전략적 적응 및 재할당",
          "사용자 커뮤니케이션"
        ],
        "weaknesses": [
          "단순 반복 작업 비효율",
          "대용량 파일 직접 처리",
          "실시간 스트리밍 처리"
        ],
        "tool_proficiency": {
          "Task": 1.0,
          "Bash": 0.95,
          "Read": 1.0,
          "Write": 0.95,
          "Edit": 0.95,
          "Grep": 0.9,
          "Glob": 0.9,
          "WebSearch": 0.85,
          "WebFetch": 0.85,
          "TodoWrite": 1.0,
          "AskUserQuestion": 1.0
        },
        "domain_expertise": {
          "kiips_architecture": 0.95,
          "maven_build": 0.9,
          "microservices": 0.95,
          "spring_boot": 0.85,
          "project_coordination": 1.0,
          "ethical_validation": 1.0
        }
      },

      "resource_limits": {
        "max_concurrent_secondary": 3,
        "token_budget_allocation": 0.4,
        "max_file_size_mb": 100,
        "max_execution_time_min": 30
      },

      "exclusive_permissions": [
        "modify_shared_modules",
        "merge_conflicts",
        "approve_proposals",
        "present_to_user",
        "reallocate_tasks",
        "manage_locks"
      ]
    },

    "kiips-architect": {
      "agent_id": "kiips-architect",
      "name": "KiiPS Architect",
      "model": "sonnet-4.5",
      "role": "strategic-advisor",
      "hierarchy": "secondary",

      "capabilities": {
        "strengths": [
          "시스템 아키텍처 설계",
          "마이크로서비스 조정",
          "기술 의사결정 자문",
          "통합 포인트 분석",
          "성능 최적화 전략",
          "보안 아키텍처 검토"
        ],
        "weaknesses": [
          "구체적 코드 구현",
          "UI/UX 디자인",
          "실시간 디버깅"
        ],
        "tool_proficiency": {
          "Read": 1.0,
          "Grep": 0.95,
          "Glob": 0.95,
          "Bash": 0.8,
          "WebSearch": 0.9,
          "mcp_morphllm": 0.7
        },
        "domain_expertise": {
          "kiips_architecture": 1.0,
          "spring_boot": 0.95,
          "microservices": 1.0,
          "api_design": 0.95,
          "database_design": 0.85,
          "security": 0.8
        }
      },

      "resource_limits": {
        "max_concurrent_operations": 2,
        "token_budget_allocation": 0.25,
        "max_file_size_mb": 50,
        "max_execution_time_min": 15
      },

      "restrictions": [
        "cannot_modify_shared_modules_directly",
        "cannot_make_strategic_decisions_alone",
        "cannot_communicate_with_user_directly",
        "must_request_approval_for_scope_changes"
      ]
    },

    "kiips-developer": {
      "agent_id": "kiips-developer",
      "name": "KiiPS Developer",
      "model": "sonnet-4.5",
      "role": "executor",
      "hierarchy": "secondary",

      "capabilities": {
        "strengths": [
          "기능 구현",
          "버그 수정",
          "코드 리팩토링",
          "단위 테스트 작성",
          "API 개발",
          "프론트엔드 개발 (JSP, jQuery)"
        ],
        "weaknesses": [
          "대규모 아키텍처 결정",
          "복잡한 분산 시스템 설계",
          "프로덕션 배포 직접 실행"
        ],
        "tool_proficiency": {
          "Read": 1.0,
          "Write": 0.95,
          "Edit": 0.95,
          "Bash": 0.9,
          "Grep": 0.9,
          "Glob": 0.9,
          "mcp_morphllm": 0.85
        },
        "domain_expertise": {
          "java_8": 0.95,
          "spring_boot": 0.9,
          "maven": 0.85,
          "jsp_jquery": 0.85,
          "realgrid": 0.75,
          "mybatis": 0.8,
          "rest_api": 0.9
        }
      },

      "resource_limits": {
        "max_concurrent_operations": 3,
        "token_budget_allocation": 0.25,
        "max_file_size_mb": 50,
        "max_execution_time_min": 20
      },

      "restrictions": [
        "cannot_modify_shared_modules_directly",
        "cannot_make_strategic_decisions",
        "cannot_communicate_with_user_directly",
        "must_request_approval_for_scope_changes"
      ],

      "specializations": {
        "build": {
          "skill": "kiips-maven-builder",
          "capability_match": 0.9
        },
        "api_testing": {
          "skill": "kiips-api-tester",
          "capability_match": 0.85
        },
        "log_analysis": {
          "skill": "kiips-log-analyzer",
          "capability_match": 0.8
        }
      }
    },

    "checklist-generator": {
      "agent_id": "checklist-generator",
      "name": "Checklist Generator",
      "model": "haiku-4.5",
      "role": "validator",
      "hierarchy": "secondary",

      "capabilities": {
        "strengths": [
          "체크리스트 생성",
          "코드 리뷰 체크",
          "배포 검증 항목",
          "테스트 계획 생성",
          "품질 검증"
        ],
        "weaknesses": [
          "복잡한 코드 분석",
          "실제 코드 작성",
          "아키텍처 설계"
        ],
        "tool_proficiency": {
          "Read": 0.95,
          "Write": 0.9,
          "TodoWrite": 1.0,
          "Grep": 0.7,
          "Glob": 0.7
        },
        "domain_expertise": {
          "quality_assurance": 0.95,
          "code_review": 0.85,
          "deployment_validation": 0.9,
          "testing_patterns": 0.85,
          "kiips_conventions": 0.75
        }
      },

      "resource_limits": {
        "max_concurrent_operations": 1,
        "token_budget_allocation": 0.1,
        "max_file_size_mb": 10,
        "max_execution_time_min": 5
      },

      "restrictions": [
        "cannot_modify_code",
        "cannot_execute_builds",
        "cannot_deploy_services",
        "read_only_operations"
      ],

      "checklist_types": [
        "code_review",
        "deployment",
        "testing",
        "ace_validation",
        "custom"
      ]
    },

    "kiips-ui-designer": {
      "agent_id": "kiips-ui-designer",
      "name": "KiiPS UI/UX Designer",
      "model": "sonnet-4.5",
      "role": "ui-ux-specialist",
      "hierarchy": "secondary",

      "capabilities": {
        "strengths": [
          "JSP 템플릿 개발 (JSTL/EL)",
          "RealGrid 2.8.8 전문 설정",
          "ApexCharts 데이터 시각화",
          "반응형 레이아웃 (Bootstrap 4.x)",
          "웹 접근성 (WCAG 2.1 AA)",
          "SCSS 테마 시스템",
          "XSS 방어 패턴",
          "UI 컴포넌트 재사용성"
        ],
        "weaknesses": [
          "Java 백엔드 로직",
          "데이터베이스 쿼리 최적화",
          "Maven 빌드 설정",
          "프로덕션 배포"
        ],
        "tool_proficiency": {
          "Read": 1.0,
          "Write": 0.95,
          "Edit": 0.95,
          "Grep": 0.9,
          "Glob": 0.9,
          "LSP": 0.85
        },
        "domain_expertise": {
          "jsp_template": 0.95,
          "realgrid_2_8_8": 0.92,
          "apexcharts": 0.90,
          "bootstrap_4": 0.90,
          "scss": 0.85,
          "jquery": 0.88,
          "responsive_design": 0.93,
          "wcag_accessibility": 0.85,
          "xss_prevention": 0.90,
          "ui_component_design": 0.95
        }
      },

      "resource_limits": {
        "max_concurrent_operations": 3,
        "token_budget_allocation": 0.2,
        "max_file_size_kb": 500,
        "max_concurrent_files": 5,
        "max_execution_time_min": 15
      },

      "restrictions": [
        "cannot_modify_java_files",
        "cannot_modify_pom_xml",
        "cannot_modify_shared_modules_directly",
        "cannot_execute_maven_builds",
        "cannot_deploy_services",
        "cannot_communicate_with_user_directly",
        "must_request_approval_for_scope_changes"
      ],

      "exclusive_permissions": [
        "modify_jsp_files",
        "modify_scss_files",
        "modify_static_css_js",
        "create_ui_components",
        "configure_realgrid",
        "configure_apexcharts"
      ],

      "specializations": {
        "ui_component_builder": {
          "skill": "kiips-ui-component-builder",
          "capability_match": 0.95,
          "description": "JSP 컴포넌트, RealGrid, ApexCharts 템플릿 생성"
        },
        "realgrid_expert": {
          "skill": "kiips-realgrid-builder",
          "capability_match": 0.92,
          "description": "RealGrid 2.8.8 고급 설정 및 최적화"
        },
        "responsive_validator": {
          "skill": "kiips-responsive-validator",
          "capability_match": 0.93,
          "description": "반응형 디자인 자동 검증 및 테스트"
        },
        "accessibility_checker": {
          "skill": "kiips-a11y-checker",
          "capability_match": 0.85,
          "description": "WCAG 2.1 AA 접근성 검증 및 자동 수정"
        },
        "scss_theme_manager": {
          "skill": "kiips-scss-theme-manager",
          "capability_match": 0.85,
          "description": "SCSS 테마 시스템 및 디자인 토큰 관리"
        }
      },

      "collaboration_rules": {
        "consult_architect_for": [
          "디자인 시스템 변경",
          "새로운 UI 라이브러리 도입",
          "페이지 라우팅 구조 변경"
        ],
        "request_developer_for": [
          "REST API 엔드포인트 생성",
          "백엔드 데이터 구조 확인",
          "서비스 빌드 및 배포"
        ],
        "coordinate_with_checklist_for": [
          "UI 검증 체크리스트",
          "접근성 테스트 계획",
          "브라우저 호환성 검증"
        ]
      }
    },

    "build-manager": {
      "agent_id": "build-manager",
      "name": "Build Manager",
      "model": "sonnet-4.5",
      "role": "build-orchestrator",
      "hierarchy": "manager",
      "layer": "layer45_domain_orchestration",

      "capabilities": {
        "strengths": [
          "Maven 멀티모듈 빌드 조정",
          "의존성 해결 최적화 (COMMON → UTILS → services)",
          "병렬 빌드 그룹 식별",
          "빌드 워커 할당 및 모니터링",
          "빌드 실패 복구 전략"
        ],
        "weaknesses": [
          "직접 Maven 명령 실행 (워커에 위임)",
          "공유 모듈 수정 (Primary 전용)",
          "비-빌드 작업"
        ],
        "tool_proficiency": {
          "Task": 0.95,
          "Read": 0.9,
          "Bash": 0.85,
          "TodoWrite": 0.9
        },
        "domain_expertise": {
          "maven_multi_module": 0.95,
          "build_orchestration": 0.95,
          "dependency_resolution": 0.9,
          "parallel_coordination": 0.9,
          "build_optimization": 0.85
        }
      },

      "resource_limits": {
        "max_concurrent_workers": 5,
        "token_budget_allocation": 0.1,
        "max_execution_time_min": 20,
        "domain_lock": "build"
      },

      "restrictions": [
        "cannot_execute_maven_directly",
        "cannot_modify_shared_modules",
        "cannot_communicate_with_user_directly",
        "must_escalate_to_primary_for_shared_modules"
      ],

      "orchestration_capabilities": {
        "worker_coordination": 0.9,
        "progress_aggregation": 0.95,
        "failure_recovery": 0.85,
        "parallel_optimization": 0.9
      },

      "managed_skills": ["kiips-maven-builder"],
      "delegates_to": ["kiips-developer"]
    },

    "feature-manager": {
      "agent_id": "feature-manager",
      "name": "Feature Manager",
      "model": "sonnet-4.5",
      "role": "feature-orchestrator",
      "hierarchy": "manager",
      "layer": "layer45_domain_orchestration",

      "capabilities": {
        "strengths": [
          "기능 개발 라이프사이클 관리",
          "아키텍트-개발자-QA 순차 조정",
          "품질 체크포인트 강제",
          "dev docs 관리 (plan, context, tasks)",
          "반복적 개선 처리"
        ],
        "weaknesses": [
          "직접 코드 구현",
          "복잡한 아키텍처 설계",
          "직접 빌드 및 배포"
        ],
        "tool_proficiency": {
          "Task": 0.95,
          "Read": 0.95,
          "Write": 0.9,
          "Edit": 0.85,
          "TodoWrite": 1.0
        },
        "domain_expertise": {
          "feature_lifecycle": 0.95,
          "agent_coordination": 0.9,
          "quality_checkpoints": 0.9,
          "dev_docs_management": 0.95,
          "workflow_orchestration": 0.9
        }
      },

      "resource_limits": {
        "max_concurrent_features": 3,
        "token_budget_allocation": 0.12,
        "max_execution_time_min": 60,
        "domain_lock": "feature"
      },

      "restrictions": [
        "cannot_implement_code_directly",
        "cannot_modify_architecture_alone",
        "cannot_communicate_with_user_directly",
        "must_request_primary_for_integration"
      ],

      "orchestration_capabilities": {
        "sequential_handoff": 0.95,
        "checkpoint_enforcement": 0.95,
        "feedback_loop_handling": 0.85,
        "doc_automation": 0.9
      },

      "managed_skills": ["kiips-feature-planner", "checklist-generator"],
      "delegates_to": ["kiips-architect", "kiips-developer", "kiips-ui-designer", "checklist-generator"]
    },

    "ui-manager": {
      "agent_id": "ui-manager",
      "name": "UI Manager",
      "model": "sonnet-4.5",
      "role": "ui-orchestrator",
      "hierarchy": "manager",
      "layer": "layer45_domain_orchestration",

      "capabilities": {
        "strengths": [
          "UI/UX 워크플로우 조정",
          "RealGrid 설정 감독",
          "반응형 검증 파이프라인",
          "WCAG 2.1 AA 접근성 강제",
          "UI-백엔드 통합 조정"
        ],
        "weaknesses": [
          "직접 JSP 작성 (워커에 위임)",
          "백엔드 API 구현",
          "직접 배포"
        ],
        "tool_proficiency": {
          "Task": 0.95,
          "Read": 0.9,
          "Write": 0.85,
          "TodoWrite": 0.9
        },
        "domain_expertise": {
          "ui_workflow_orchestration": 0.95,
          "realgrid_coordination": 0.9,
          "responsive_validation": 0.9,
          "accessibility_enforcement": 0.9,
          "ui_backend_integration": 0.85
        }
      },

      "resource_limits": {
        "max_concurrent_pages": 3,
        "token_budget_allocation": 0.1,
        "max_execution_time_min": 30,
        "domain_lock": "ui"
      },

      "restrictions": [
        "cannot_write_jsp_directly",
        "cannot_modify_backend_code",
        "cannot_communicate_with_user_directly",
        "must_coordinate_with_developer_for_api"
      ],

      "orchestration_capabilities": {
        "validation_pipeline": 0.95,
        "stage_coordination": 0.9,
        "quality_enforcement": 0.9,
        "multi_skill_orchestration": 0.9
      },

      "managed_skills": ["kiips-ui-component-builder", "kiips-realgrid-builder", "kiips-responsive-validator", "kiips-a11y-checker", "kiips-scss-theme-manager"],
      "delegates_to": ["kiips-ui-designer", "kiips-developer", "checklist-generator"]
    },

    "deployment-manager": {
      "agent_id": "deployment-manager",
      "name": "Deployment Manager",
      "model": "sonnet-4.5",
      "role": "deployment-orchestrator",
      "hierarchy": "manager",
      "layer": "layer45_domain_orchestration",

      "capabilities": {
        "strengths": [
          "배포 파이프라인 조정",
          "서비스 시작/중지 조정 (Primary와 협력)",
          "헬스 체크 검증",
          "로그 분석 감독",
          "자동 롤백 관리"
        ],
        "weaknesses": [
          "직접 서비스 시작/중지 (Primary 전용)",
          "직접 인프라 변경",
          "직접 코드 수정"
        ],
        "tool_proficiency": {
          "Task": 0.95,
          "Read": 0.9,
          "Bash": 0.85,
          "TodoWrite": 0.9
        },
        "domain_expertise": {
          "deployment_orchestration": 0.95,
          "health_check_validation": 0.9,
          "log_analysis_coordination": 0.9,
          "rollback_management": 0.9,
          "service_lifecycle": 0.85
        }
      },

      "resource_limits": {
        "max_concurrent_deployments": 1,
        "token_budget_allocation": 0.08,
        "max_execution_time_min": 20,
        "domain_lock": "deployment"
      },

      "restrictions": [
        "cannot_start_stop_services_directly",
        "cannot_modify_infrastructure",
        "cannot_communicate_with_user_directly",
        "must_request_primary_for_service_control"
      ],

      "orchestration_capabilities": {
        "pipeline_coordination": 0.95,
        "parallel_verification": 0.9,
        "failure_detection": 0.95,
        "rollback_automation": 0.9
      },

      "managed_skills": ["kiips-service-deployer", "kiips-api-tester", "kiips-log-analyzer"],
      "delegates_to": ["kiips-developer", "checklist-generator"]
    }
  },

  "capability_matching": {
    "description": "작업과 에이전트 능력 매칭을 위한 가이드라인",

    "task_types": {
      "service_build": {
        "description": "Single or multi-service Maven build (unified)",
        "primary_agent": "build-manager",
        "required_skill": "kiips-maven-builder",
        "min_capability_match": 0.9,
        "fallback_agent": "kiips-developer",
        "manager_orchestrated": true
      },
      "api_testing": {
        "primary_agent": "kiips-developer",
        "required_skill": "kiips-api-tester",
        "min_capability_match": 0.75,
        "fallback_agent": "primary-coordinator"
      },
      "log_analysis": {
        "primary_agent": "kiips-developer",
        "required_skill": "kiips-log-analyzer",
        "min_capability_match": 0.7,
        "fallback_agent": "kiips-architect"
      },
      "architecture_review": {
        "primary_agent": "kiips-architect",
        "required_skill": null,
        "min_capability_match": 0.85,
        "fallback_agent": "primary-coordinator"
      },
      "quality_validation": {
        "primary_agent": "checklist-generator",
        "required_skill": null,
        "min_capability_match": 0.8,
        "fallback_agent": "primary-coordinator"
      },
      "feature_development": {
        "primary_agent": "feature-manager",
        "required_skill": "kiips-feature-planner",
        "min_capability_match": 0.95,
        "fallback_agent": "primary-coordinator",
        "manager_orchestrated": true
      },
      "feature_planning": {
        "primary_agent": "primary-coordinator",
        "required_skill": "kiips-feature-planner",
        "min_capability_match": 0.9,
        "fallback_agent": null
      },
      "service_deploy": {
        "description": "Single or multi-service deployment (unified)",
        "primary_agent": "deployment-manager",
        "required_skill": "kiips-service-deployer",
        "min_capability_match": 0.95,
        "fallback_agent": "primary-coordinator",
        "manager_orchestrated": true
      },
      "ui_component_creation": {
        "primary_agent": "ui-manager",
        "required_skill": "kiips-ui-component-builder",
        "min_capability_match": 0.95,
        "fallback_agent": "kiips-ui-designer",
        "manager_orchestrated": true
      },
      "ui_validation": {
        "primary_agent": "ui-manager",
        "required_skill": "kiips-responsive-validator",
        "min_capability_match": 0.9,
        "fallback_agent": "kiips-ui-designer",
        "manager_orchestrated": true
      },
      "jsp_template_development": {
        "primary_agent": "kiips-ui-designer",
        "required_skill": "kiips-ui-component-builder",
        "min_capability_match": 0.95,
        "fallback_agent": "kiips-developer"
      },
      "realgrid_configuration": {
        "primary_agent": "kiips-ui-designer",
        "required_skill": "kiips-realgrid-builder",
        "min_capability_match": 0.92,
        "fallback_agent": "kiips-developer"
      },
      "responsive_design": {
        "primary_agent": "kiips-ui-designer",
        "required_skill": "kiips-responsive-validator",
        "min_capability_match": 0.9,
        "fallback_agent": "kiips-developer"
      },
      "accessibility_validation": {
        "primary_agent": "kiips-ui-designer",
        "required_skill": "kiips-a11y-checker",
        "min_capability_match": 0.85,
        "fallback_agent": "checklist-generator"
      },
      "scss_theme_development": {
        "primary_agent": "kiips-ui-designer",
        "required_skill": "kiips-scss-theme-manager",
        "min_capability_match": 0.85,
        "fallback_agent": "kiips-developer"
      }
    }
  },

  "self_assessment_protocol": {
    "description": "에이전트가 작업 수락 전 자가 평가하는 프로토콜",

    "assessment_criteria": [
      {
        "criterion": "capability_match",
        "description": "작업에 필요한 능력과 현재 능력의 일치도",
        "threshold": 0.7,
        "action_if_below": "decline_with_recommendation"
      },
      {
        "criterion": "current_workload",
        "description": "현재 작업 부하 수준",
        "threshold": 0.8,
        "action_if_above": "queue_or_delegate"
      },
      {
        "criterion": "resource_availability",
        "description": "필요 리소스 가용성",
        "threshold": 0.5,
        "action_if_below": "request_resources"
      },
      {
        "criterion": "ethical_clearance",
        "description": "윤리적 검증 통과 여부",
        "threshold": 1.0,
        "action_if_below": "escalate_to_primary"
      }
    ],

    "response_format": {
      "accepted": {
        "status": "accepted",
        "capability_match": 0.85,
        "confidence": "high",
        "estimated_completion": "5min",
        "resources_needed": []
      },
      "declined": {
        "status": "declined",
        "reason": "capability_mismatch",
        "capability_match": 0.45,
        "recommended_agent": "kiips-architect",
        "alternative_approach": "설명"
      }
    }
  },

  "learning_protocol": {
    "description": "에이전트 자가 학습 및 모델 업데이트 프로토콜",

    "learning_events": [
      "task_completion_success",
      "task_completion_failure",
      "capability_overestimation",
      "capability_underestimation",
      "new_pattern_discovered",
      "ethical_concern_raised"
    ],

    "model_update_frequency": "after_each_execution",
    "validation_required": true,
    "min_sample_size_for_update": 3
  }
}
